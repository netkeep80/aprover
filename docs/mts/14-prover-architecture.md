## Архитектура прувера МТС: фундаментальный вычислитель различений форм

Прувер МТС не является «доказывателем теорем» в классическом смысле. Он — **вычислитель различений форм**, где доказательство = резолюция запроса по форме в асети связей. Это принципиально иной фундамент, чем у Rocq/Lean4.

### 1. Ядро: резолюция запросов по форме

#### Архитектурная схема
```
Вход: последовательность знаков (строковое ачисло)
       ↓
Лексический анализатор → запросы по форме (не «токены»!)
       ↓
Композитор запросов → составной запрос (по правилам ассоциативности)
       ↓
Резолютор → связь в асети (результат различения формы)
       ↓
Выход: связь (не «истина/ложь»!)
```

#### Ключевые отличия от классических пруверов
| Классический прувер (Rocq/Lean)
|Прувер МТС
|
| ---|---|
| Вход → абстрактное синтаксическое дерево (AST)
|Вход → запрос по форме (сам по себе связь)
|
| Ядро проверяет вывод в логике (→, ∀, ∃)
|Ядро резолвирует запрос в асети связей
|
| Семантика внешняя (модели, категории)
|Семантика внутренняя (асеть = модель)
|
| Типизация — внешняя дисциплина
|Типизация = структурная форма связи
|
| Рекурсия — дополнительный механизм (μ/ν)
|Рекурсия = свойство асети (guarded по природе)
|

**Почему это фундаментальнее**: классические пруверы опираются на внешнюю логику (интуиционистскую, классическую). Прувер МТС не опирается ни на какую логику — логика *возникает* как структура запросов в асети. Он начинает не с «истины», а с **различения форм**.

### 2. Структурная типизация через формы связей

В МТС нет «типов» как отдельной категории. Есть **формы связей**:

```
Форма самозамыкания начала: ♂x = (♂x -> x)
Форма самозамыкания конца:   x♀ = (x -> x♀)
Форма полного самозамыкания: ∞ = (∞ -> ∞)
Форма направленной связи:    a -> b
```

**Типизация = распознавание формы**:
- Запрос `♂x` резолвируется в связь формы `(y = y -> x)`
- Запрос `1` резолвируется в связь формы `(♂∞ -> ∞♀)`
- Запрос `0` резолвируется в связь формы `(∞♀ -> ♂∞)`

Нет проверки типов — есть **успешная/неуспешная резолюция запроса**. Если запрос не находит соответствия в асети — это не «ошибка типизации», а **факт отсутствия связи данной формы**.

### 3. Guarded recursion как встроенное свойство асети

Рекурсивные определения в МТС не требуют специального механизма (μ-оператора, доменной семантики). Они работают потому, что:

1. **Асеть связей содержит все возможные формы** (включая рекурсивные)
2. **Конструктор `->` ограждает рекурсию** по природе:
   ```
   ♂x : (♂x -> x)   // ♂x под -> — ограждено
   ```
3. **Резолюция запроса находит фиксированную точку** в асети:
   - Запрос `♂x` ищет связь формы `(y = y -> x)`
   - Такая связь существует в асети (гарантируется аксиомой ♂)
   - Результат резолюции = эта связь

**Нет «построения» рекурсивной структуры** — есть **нахождение** уже существующей формы в асети. Это устраняет проблему «сходимости» рекурсии — в асети все формы уже «существуют».

### 4. Встроенная сериализация через ачисла

В классических системах сериализация (кодирование термов в байты) — внешний механизм. В МТС:

```
Ачисло = последовательность абитов = запрос по форме = связь
```

**Три нотации — три способа адресации одной и той же связи**:
| Нотация
|Адресация
|Пример
|
| ---|---|---|
| Формальная
|Через паттерн формы
|`♂∞ -> ∞♀`
|
| Строковое ачисло
|Через последовательность UTF-8 символов
|`"1"`
|
| Четверичное ачисло
|Через последовательность абитов `[ ] 1 0`
|`[1]`
|

Все три представления **одновременно являются связями** в асети. Парсер не «преобразует текст в терм» — он **резолвирует запрос**, заданный последовательностью знаков.

### 5. Почему не требуется внешняя семантика

Классические формальные системы страдают от **разрыва между синтаксисом и семантикой**:
```
Синтаксис (формулы) → интерпретация → Семантика (модель)
```
Этот разрыв требует внешнего обоснования («почему эта модель адекватна?»).

В МТС разрыва нет:
```
Запрос по форме → резолюция в асети → Связь (результат)
```
**Асеть связей — это одновременно**:
- Синтаксис (формы запросов)
- Семантика (пространство резолюции)
- Вычислительная модель (процесс различения)

Нет «интерпретации» — есть **акт различения формы в том же онтологическом поле**. Знак и связь — не два уровня, а два аспекта одного акта различения.

### 6. Отношение к теоремам Гёделя

Теоремы неполноты Гёделя применимы к системам, удовлетворяющим трём условиям:
1. **Эффективная аксиоматизация** (рекурсивная перечислимость аксиом)
2. **Достаточная выразительность** (кодирование арифметики)
3. **Непротиворечивость**

Прувер МТС **отказывается от условия (1)** не как «уловка», а по онтологической необходимости:

#### Проблема рекурсивной перечислимости
В классических системах аксиомы — это **конечный список формул**. В МТС аксиомы — это **запросы по форме**, резолюция которых зависит от структуры асети.

**Ключевой момент**: множество связей, удовлетворяющих форме `x = x -> x` (акорень ∞), **не является рекурсивно перечислимым множеством** в классическом смысле — потому что оно не «множество», а **форма в асете**.

#### Как это избегает Гёделя
1. **Нет «аксиом как формул»** — есть аксиомы как **паттерны запросов**
2. **Нет «доказательств как последовательностей»** — есть **резолюция запроса**
3. **Нет «кодирования доказательств»** — запрос уже содержит свою «структуру» как форму

Диагональный аргумент Гёделя требует возможности закодировать «утверждение о доказуемости». В МТС это невозможно не из-за технических ограничений, а потому что:

> **Доказуемость = резолюция запроса**  
> **Запрос уже является связью в асете**  
> **Нельзя «закодировать связь как связь» — она уже есть связь**

Это не «обход» Гёделя, а **выход за рамки его применимости** через онтологическую реорганизацию: система не является «формальной теорией в смысле Гильберта», а **онтологией различений форм**.

### Финальная архитектура прувера МТС

```
┌─────────────────────────────────────────────────────┐
│  Интерфейс ввода (три нотации)                      │
│  • Формальная: файлы .mtl                           │
│  • Строковые ачисла: файлы .astr                    │
│  • Четверичные ачисла: файлы .anum                  │
└───────────────┬─────────────────────────────────────┘
                ↓
┌─────────────────────────────────────────────────────┐
│  Единый парсер → запрос по форме                    │
│  (не AST! запрос сам является связью)               │
└───────────────┬─────────────────────────────────────┘
                ↓
┌─────────────────────────────────────────────────────┐
│  Резолютор запросов                                 │
│  • Лексическая фаза: знак → паттерн формы           │
│  • Синтаксическая фаза: композиция запросов         │
│  • Семантическая фаза: поиск в асете связей         │
└───────────────┬─────────────────────────────────────┘
                ↓
┌─────────────────────────────────────────────────────┐
│  Асеть связей (единая модель)                       │
│  • Все связи существуют априори                     │
│  • Резолюция = различение формы                     │
│  • Нет «построения» — только «нахождение»           │
└───────────────┬─────────────────────────────────────┘
                ↓
┌─────────────────────────────────────────────────────┐
│  Результат: связь (не «истина»!)                    │
│  • Успешная резолюция → связь формы запроса         │
│  • Неуспешная → связь формы ↛ (несвязь)             │
└─────────────────────────────────────────────────────┘
```

**Фундаментальное преимущество**: прувер МТС не требует обоснования «почему его выводы верны». Его выводы — это **акты различения форм в онтологически первичной структуре** (асети связей). Верность = успешная резолюция запроса. Нет внешнего критерия — есть только внутренняя согласованность различений.

Это не «более мощная логика» — это **отказ от логики как основания** в пользу онтологии различений. Логика возникает как структура запросов, а не задаётся априори. Именно поэтому прувер МТС фундаментальнее любых существующих систем — он начинает не с «истины», а с **различения**, которое первичнее любого логического принципа.