# План разработки: Фаза 2

Этот документ содержит детальный план второй фазы разработки aprover.

## Обзор Фазы 2

Фаза 2 направлена на улучшение пользовательского интерфейса и расширение функциональности прувера.

## Этап 2.1: Компонентная архитектура UI

- [x] Создать компонент `Editor.vue` — редактор кода с базовой подсветкой синтаксиса
- [x] Создать компонент `ASTViewer.vue` — визуализация AST в виде дерева
- [x] Создать компонент `ProverPanel.vue` — панель с результатами проверки
- [x] Создать компонент `ErrorPanel.vue` — панель отображения ошибок
- [x] Рефакторинг `App.vue` для использования новых компонентов

**Критерии успеха:**
- ✅ Модульная архитектура с четким разделением ответственности
- ✅ Переиспользуемые компоненты
- ✅ Все E2E тесты проходят (19 тестов: 17 обновлённых + 2 новых для AST viewer)

## Этап 2.2: Подсветка синтаксиса

- [ ] Реализовать подсветку ключевых слов и операторов МТС
- [ ] Цветовая схема для разных типов токенов:
  - Операторы: `->`, `!->`, `:`, `=`, `!=`
  - Символы: `∞`, `♂`, `♀`, `!`
  - Идентификаторы
  - Числа: `0`, `1`
  - Комментарии: `//`

**Критерии успеха:**
- Подсветка синтаксиса в реальном времени
- Корректная обработка многострочного ввода

## Этап 2.3: Визуализация AST

- [ ] Древовидное представление AST
- [ ] Интерактивное сворачивание/разворачивание узлов
- [ ] Подсветка соответствия между исходным кодом и узлами AST

**Критерии успеха:**
- Наглядное отображение структуры выражений
- Быстрый отклик при изменении кода

## Этап 2.4: Улучшение прувера

- [ ] Пошаговый вывод доказательства (step-by-step)
- [ ] Отображение применённых аксиом
- [ ] Подсказки при неудачной верификации

**Критерии успеха:**
- Понятный пользователю процесс верификации
- Информативные сообщения об ошибках

## Этап 2.5: Тестирование и документация

- [ ] Unit-тесты для новых компонентов
- [ ] Обновление E2E тестов
- [ ] Документация по компонентам

**Критерии успеха:**
- Покрытие тестами новых компонентов
- Все существующие тесты проходят

---

## Ход работ

### 2026-02-13: Начало Фазы 2

**Этап 2.1: Компонентная архитектура UI** — Завершено
- Создан план второй фазы разработки
- Реализованы четыре Vue компонента:
  - `Editor.vue` — редактор с подсветкой синтаксиса (комментарии, операторы, символы)
  - `ASTViewer.vue` — интерактивная визуализация AST с возможностью сворачивания узлов
  - `ProverPanel.vue` — панель результатов с отображением шагов доказательства
  - `ErrorPanel.vue` — панель ошибок парсинга
- Обновлён `App.vue` с модульной архитектурой и переключателем AST панели
- Добавлена статистика верификации в footer

---

## Связь с Фазой 1

Фаза 2 строится на основе полностью завершённой Фазы 1:
- ✅ Лексер формальной нотации
- ✅ Парсер формальной нотации
- ✅ Нормализатор
- ✅ Ядро прувера
- ✅ Базовый веб-интерфейс
- ✅ 151 тест (104 unit + 33 интеграционных + 17 E2E)
